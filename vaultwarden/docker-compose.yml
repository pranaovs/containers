services:
  vaultwarden:
    image: vaultwarden/server:latest
    container_name: vaultwarden
    restart: always
    ports:
      - "30087:80"
    expose:
      - "80"
    volumes:
      - ./vw-data/:/data/
    environment:
      DOMAIN: "https://vaultwarden.pranaovs.me"
      SIGNUPS_ALLOWED: false
    env_file:
      - .env
    networks:
      - internal_net
      - vaultwarden_net
    labels:
      - "com.centurylinklabs.watchtower.enable=true"

networks:
  internal_net:
    driver: bridge
  vaultwarden_net:
    external: true
